{% if vault_storage_backend == "consul" %}
storage "consul" {
  address = "{{ vault_consul_address }}"
  path    = "{{ vault_consul_path }}"
}
{% else %}
storage "file" {
  path = "{{ vault_data_dir }}"
}
{% endif %}

listener "tcp" {
  address     = "{{ vault_listener_address }}"
  tls_disable = {{ vault_tls_disable | lower }}
}

api_addr = "http://{{ ansible_default_ipv4.address }}:8200"
cluster_addr = "https://{{ ansible_default_ipv4.address }}:8201"
ui = {{ vault_ui_enabled | lower }}
